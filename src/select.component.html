<div class="dropdown paged-select" [ngClass]="{'show': selectOpened}">
  <div #mainButton  (click)="onClickSelect()" tabindex="0"       
       class="input-group" (keydown)="onMainKeyDown($event)">
    <span class="form-control" aria-expanded="false">
        <div [hidden]="resultOptions.length>0">{{placeholder}}</div>
        <div *ngFor="let result of resultOptions">
            <div #resultWrapper>
                <ng-content select="[result]"></ng-content>
            </div>
            <div *ngIf="resultWrapper.children == 0">
                <button type="button" class="close paged-select-delete-result-btn"
                        (click)="deleteResult(result); $event.stopPropagation()">
                        &times;
                </button>
                <span class="paged-select-result-label">{{getOptionLabel(result)}}</span>
            </div>
        </div>
    </span>
    <span class="dropdown-toggle input-group-addon"></span>  
  </div>

  <div [ngClass]="{'show': selectOpened}" class="dropdown-menu paged-select-dropdown-menu">
    <div class="paged-select-search">
      <input #searchInputEl type="search" 
             class="form-control ds-input" 
             placeholder="Search..."
             (input)="search.next(searchInputEl.value)" 
             (keydown)="onKeyDown($event)" ([ngModel])="filter">
    </div>
    <img src="assets/images/spinner.gif" class="paged-select-spinner" 
         alt="Loading..." *ngIf="loading"/>
    <div #scrollEl
         *ngIf="!loading"
         class="paged-select-scroll"
         infinite-scroll
         [scrollWindow]="false"
         [infiniteScrollDistance]="1"
         [infiniteScrollThrottle]="100"
         (scrolled)="onScrollDown($event)"
         [style.height.px]="height">
      <ng-template #option ngFor [ngForOf]="options" [ngForTemplate]="tmpl" select="[option]"
            class="dropdown-item"
            (click)="onOptionSelect(option)"
            (mouseenter)="onMouseOver(option)"
             >
       </ng-template>     
           
    </div>
  </div>
  </div>
